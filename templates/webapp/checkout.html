{% extends "base.html" %}
{% block titulo %}Checkout{% endblock %}
{% block contenido %}

  <div class="row mb-3">
    <div class="col-lg-4 order-lg-2">
      <h4 class="d-flex justify-content-between align-items-center card-header bg-dark text-white">
        <span>Sumario</span>
        <span class="badge badge-light badge-pill">{{ carrito.numero_productos }}</span>
      </h4>
      <ul class="list-group mb-3 shadow">
        {% for item in productos %}
          <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">{{ item.producto.titulo }}<small class="text-muted"> x {{ item.cantidad }}</small></h6>
            </div>
            <span class="text-muted">${{ item.precio_total }}</span>
          </li>
        {% endfor %}   
        <li class="list-group-item d-flex justify-content-between bg-dark text-white">
          <span>Total (Pesos)</span>
          <strong>${{ carrito.total }}</strong>
        </li>
      </ul>
    </div>
    <div class="col-lg-8 order-lg-1">
      <h4 class="card-header bg-dark text-white">Dirección de envío</h4>
      <form class="border rounded p-3 shadow" method="POST">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.nombre.id_for_label }}">{{ form.nombre.label }}</label>
              {{ form.nombre }}
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.apellido.id_for_label }}">{{ form.apellido.label }}</label>
              {{ form.apellido }}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.direccion.id_for_label }}">{{ form.direccion.label }}</label>
              {{ form.direccion }}
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.telefono.id_for_label }}">{{ form.telefono.label }}</label>
              {{ form.telefono }}
            </div>
          </div>
        </div>      
        <div class="row">
          <div class="col-md-4 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.pais.id_for_label }}">{{ form.pais.label }}</label>
              {{ form.pais }}
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.provincia.id_for_label }}">{{ form.provincia.label }}</label>
              {{ form.provincia }}
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="fieldWrapper">
              <label for="{{ form.codigo_postal.id_for_label }}">{{ form.codigo_postal.label }}</label>
              {{ form.codigo_postal }}
            </div>
          </div>
        </div>       
        <hr class="mb-3">
        <input type="submit" class="btn btn-dark btn-lg btn-block" value="Continuar">
      </form>
    </div>
  </div>

{% endblock %}