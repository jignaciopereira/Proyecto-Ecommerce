{% extends "base.html" %}
{% block titulo %}Editar producto{% endblock %}
{% block contenido %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="row">
            <div class="col-md-6 col-lg-5">
                <div class="fieldWrapper">
                    {{ form.imagen.errors }}
                    <label for="{{ form.imagen.id_for_label }}">Imagen</label>
                    <img id="imgdetalle" class="img-thumbnail" src="{{ form.instance.imagen.url }}" />
                    {{ form.imagen }}
                </div>
            </div>
            <div class="col-md-6 col-lg-7">
                <div class="row">
                    <div class="col">
                        <div class="fieldWrapper">
                            {{ form.marca.errors }}
                            <label for="{{ form.marca.id_for_label }}">Marca</label>
                            {{ form.marca }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="fieldWrapper">
                            {{ form.modelo.errors }}
                            <label for="{{ form.modelo.id_for_label }}">Modelo</label>
                            {{ form.modelo }}
                        </div>
                    </div>
                </div>
                <div class="fieldWrapper">
                    {{ form.categoria.errors }}
                    <label for="{{ form.categoria.id_for_label }}">Categoría</label>
                    {{ form.categoria }}
                </div>
                <div class="fieldWrapper">
                    {{ form.descripcion.errors }}
                    <label for="{{ form.descripcion.id_for_label }}">Descripción</label>
                    {{ form.descripcion }}
                </div>    
                <div class="fieldWrapper">
                    <div class="form-group row justify-content-between mt-3">
                        <label for="{{ form.precio.id_for_label }}" class="col-sm-1 col-form-label">Precio</label>
                        <div class="col-sm-4">
                            {{ form.precio }}
                        </div>
                        <div class="col d-flex justify-content-end">
                            <button type="submit" class="btn btn-dark">Editar</button>
                            <!-- Button trigger Delete Product Modal -->
                            <button type="button" class="btn btn-danger ml-2" data-toggle="modal" data-target="#exampleModal">Eliminar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- Delete Product Modal -->
    <form action="{% url 'webapp:eliminar-producto' form.instance.slug %}" method="post">
        {% csrf_token %}
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Eliminar</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Desea eliminar este producto?
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-danger">Eliminar</button>
                        <button type="button" class="btn btn-dark" data-dismiss="modal">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

{% endblock %}